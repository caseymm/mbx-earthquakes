(this["webpackJsonpmbx-earthquakes"]=this["webpackJsonpmbx-earthquakes"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),s=n(5),c=n.n(s),r=(n(11),n(4),n(3)),i=n.n(r),l=n(6),d=n(18),p=n(0);i.a.accessToken="pk.eyJ1IjoiY2FzZXltbWlsZXIiLCJhIjoiY2lpeHY1bnJ1MDAyOHVkbHpucnB1dGRmbyJ9.TzUoCLwyeDoLjh3tkDSD4w";const m=()=>{let e=[];for(let t=.15;t<1;t+=.01)e.push(t);return Object(p.jsxs)("div",{className:"legend-holder",children:[Object(p.jsx)("div",{className:"legend",children:e.map((e=>Object(p.jsx)("div",{className:`color ${e}`,style:{backgroundColor:Object(d.a)(1.17647058823*(e-.15))}},`item-${e}`)))}),Object(p.jsxs)("div",{className:"labels",children:[Object(p.jsx)("div",{className:"weak",children:"weak to light shaking"}),Object(p.jsx)("div",{className:"moderate",children:"moderate"}),Object(p.jsx)("div",{className:"very-strong",children:"very strong"}),Object(p.jsx)("div",{className:"violent",children:"violent"})]})]})};class u extends o.a.PureComponent{constructor(e){super(e),this.state={lng:-98.78320225360663,lat:40.45646421496375,zoom:3.5},this.mapContainer=o.a.createRef()}componentDidMount(){const{lng:e,lat:t,zoom:n}=this.state;let a=!1;const o=new i.a.Map({container:this.mapContainer.current,style:"mapbox://styles/caseymmiler/cku5y4h6e321517pqp2dtwj1w",center:[e,t],zoom:n}),s=window.location.search.slice(1).split("&").map((e=>e.split("="))).reduce(((e,[t,n])=>({...e,[t]:n})),{});console.log(s);const c=()=>{console.log("loaded");const e=document.createElement("div");e.id="hidden",e.innerText=(()=>{let e=o.queryRenderedFeatures().map((e=>e.sourceLayer)),t=[...new Set(e)];const n=t.indexOf(void 0);return n>-1&&t.splice(n,1),1===t.length&&"water"===t[0]?"blank map":""})(),document.getElementsByClassName("map-container")[0].appendChild(e)};setTimeout((function(){a||window.location.reload()}),3e3),async function(){const e=await fetch(s.url);return await e.json()}().then((e=>{console.log("ran load"),e.features=e.features.filter((e=>e.properties.PARAMVALUE>1.5)),e.features.forEach((e=>{e.properties.color=Object(d.a)(1.17647058823*(.1*e.properties.PARAMVALUE-.15))})),a=!0,o.addSource("data-json",{type:"geojson",data:e}),o.addLayer({id:"data-json-layer",type:"fill",source:"data-json",layout:{},paint:{"fill-color":{type:"identity",property:"color"},"fill-opacity":1}},"water");const t=l.bbox(e);o.fitBounds(t,{padding:0,duration:0}),setTimeout((function(){c()}),5e3)}))}render(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{ref:this.mapContainer,className:"map-container"}),Object(p.jsx)(m,{})]})}}c.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(u,{})}),document.getElementById("root"))},4:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.94e1d226.chunk.js.map